<!DOCTYPE html>
<!-- Demo version: 2026-02-19 - Complete GoCardless Import Workflow -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GoCardless Import for Opera 3 - Crakd.ai Demo</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(135deg, #1e3a5f 0%, #0d1b2a 100%);
            min-height: 100vh;
            color: #fff;
        }
        .demo-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #f59e0b, #fbbf24);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .header p {
            color: #94a3b8;
            font-size: 1.1rem;
        }
        .progress-bar {
            width: 100%;
            height: 4px;
            background: #334155;
            border-radius: 2px;
            margin-bottom: 40px;
            overflow: hidden;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #f59e0b, #fbbf24);
            width: 0%;
            transition: width 0.5s ease;
        }
        .slides-container {
            position: relative;
            min-height: 650px;
        }
        .slide {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        .slide.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .slide-content {
            background: #1e293b;
            border-radius: 16px;
            padding: 40px;
            border: 1px solid #334155;
        }
        .step-number {
            display: inline-block;
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, #d97706, #f59e0b);
            border-radius: 50%;
            text-align: center;
            line-height: 40px;
            font-weight: bold;
            margin-bottom: 20px;
        }
        .slide h2 {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: #f1f5f9;
        }
        .slide p {
            color: #94a3b8;
            line-height: 1.7;
            margin-bottom: 20px;
        }
        .mock-ui {
            background: #0f172a;
            border-radius: 12px;
            padding: 24px;
            margin: 24px 0;
            border: 1px solid #334155;
        }
        .mock-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 1px solid #334155;
        }
        .mock-icon {
            width: 32px;
            height: 32px;
            background: #d97706;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .mock-title {
            font-weight: 600;
            color: #f1f5f9;
        }
        .mock-form {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }
        .mock-field {
            background: #1e293b;
            border: 1px solid #334155;
            border-radius: 8px;
            padding: 12px;
        }
        .mock-field label {
            display: block;
            font-size: 0.75rem;
            color: #64748b;
            margin-bottom: 4px;
        }
        .mock-field .value {
            color: #f1f5f9;
            font-size: 0.9rem;
        }
        .mock-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 16px;
        }
        .mock-table th {
            text-align: left;
            padding: 12px;
            background: #1e293b;
            color: #94a3b8;
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        .mock-table td {
            padding: 12px;
            border-top: 1px solid #334155;
            color: #f1f5f9;
            font-size: 0.9rem;
        }
        .mock-table tr:hover {
            background: #1e293b;
        }
        .badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 500;
        }
        .badge-green { background: #065f46; color: #34d399; }
        .badge-blue { background: #1e3a5f; color: #60a5fa; }
        .badge-yellow { background: #713f12; color: #fbbf24; }
        .badge-red { background: #7f1d1d; color: #f87171; }
        .badge-purple { background: #4c1d95; color: #a78bfa; }
        .badge-cyan { background: #164e63; color: #22d3ee; }
        .badge-gocardless { background: #1e3a5f; color: #00b3a4; }
        .badge-grey { background: #374151; color: #9ca3af; }
        .badge-amber { background: #713f12; color: #fbbf24; }
        .badge-teal { background: #134e4a; color: #2dd4bf; }
        .amount-positive { color: #34d399; }
        .amount-negative { color: #f87171; }
        .amount-amber { color: #fbbf24; }
        .highlight-box {
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.1), rgba(251, 191, 36, 0.1));
            border: 1px solid rgba(245, 158, 11, 0.3);
            border-radius: 8px;
            padding: 16px;
            margin: 16px 0;
        }
        .highlight-box h4 {
            color: #fbbf24;
            margin-bottom: 8px;
        }
        .info-box {
            background: linear-gradient(135deg, rgba(0, 179, 164, 0.1), rgba(0, 179, 164, 0.05));
            border: 1px solid rgba(0, 179, 164, 0.3);
            border-radius: 8px;
            padding: 16px;
            margin: 16px 0;
        }
        .info-box h4 {
            color: #00b3a4;
            margin-bottom: 8px;
        }
        .success-box {
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.1), rgba(74, 222, 128, 0.1));
            border: 1px solid rgba(34, 197, 94, 0.3);
            border-radius: 8px;
            padding: 16px;
            margin: 16px 0;
        }
        .success-box h4 {
            color: #4ade80;
            margin-bottom: 8px;
        }
        .tabs {
            display: flex;
            gap: 4px;
            margin-bottom: 16px;
        }
        .tab {
            padding: 8px 16px;
            background: #1e293b;
            border-radius: 6px;
            font-size: 0.85rem;
            color: #94a3b8;
            cursor: pointer;
        }
        .tab.active {
            background: #00b3a4;
            color: white;
        }
        .controls {
            display: flex;
            justify-content: center;
            gap: 16px;
            margin-top: 40px;
        }
        .btn {
            padding: 12px 24px;
            border-radius: 8px;
            border: none;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        .btn-primary {
            background: linear-gradient(135deg, #d97706, #f59e0b);
            color: white;
        }
        .btn-secondary {
            background: #334155;
            color: #f1f5f9;
        }
        .btn:hover {
            transform: translateY(-2px);
        }
        .auto-play-indicator {
            text-align: center;
            color: #64748b;
            font-size: 0.85rem;
            margin-top: 16px;
        }
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin-top: 20px;
        }
        .feature-grid-4 {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 16px;
            margin-top: 20px;
        }
        .feature-card {
            background: #1e293b;
            border: 1px solid #334155;
            border-radius: 8px;
            padding: 16px;
            text-align: center;
        }
        .feature-card h4 {
            color: #00b3a4;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }
        .feature-card p {
            color: #94a3b8;
            font-size: 0.8rem;
            margin: 0;
        }
        .workflow-step {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px;
            background: #1e293b;
            border-radius: 8px;
            margin-bottom: 12px;
            border: 1px solid #334155;
        }
        .workflow-number {
            width: 36px;
            height: 36px;
            background: linear-gradient(135deg, #00b3a4, #00d4aa);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }
        .workflow-content h4 {
            color: #f1f5f9;
            margin-bottom: 4px;
        }
        .workflow-content p {
            color: #94a3b8;
            font-size: 0.85rem;
            margin: 0;
        }
        .action-btn {
            background: linear-gradient(135deg, #00b3a4, #00d4aa);
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 4px;
            font-size: 0.8rem;
            cursor: pointer;
        }
        .email-card {
            background: #1e293b;
            border: 1px solid #334155;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 12px;
        }
        .email-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }
        .email-from {
            font-weight: 600;
            color: #f1f5f9;
        }
        .email-date {
            color: #64748b;
            font-size: 0.85rem;
        }
        .email-subject {
            color: #94a3b8;
            font-size: 0.9rem;
            margin-bottom: 8px;
        }
        .stat-card {
            background: #0f172a;
            border: 1px solid #334155;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }
        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 4px;
        }
        .stat-label {
            color: #64748b;
            font-size: 0.85rem;
        }
        .gocardless-logo {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: linear-gradient(135deg, #1e3a5f, #0d1b2a);
            padding: 8px 16px;
            border-radius: 8px;
            border: 1px solid #00b3a4;
        }
        .gocardless-logo span {
            color: #00b3a4;
            font-weight: 600;
        }
        .payment-flow {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 20px;
            padding: 20px;
            background: #1e293b;
            border-radius: 8px;
            margin: 20px 0;
        }
        .flow-box {
            background: #0f172a;
            border-radius: 8px;
            padding: 16px 24px;
            text-align: center;
            flex: 1;
        }
        .flow-arrow {
            color: #00b3a4;
            font-size: 24px;
        }
        .checkbox-mock {
            width: 18px;
            height: 18px;
            border: 2px solid #64748b;
            border-radius: 4px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }
        .checkbox-mock.checked {
            background: #00b3a4;
            border-color: #00b3a4;
        }
        .checkbox-mock.checked::after {
            content: "\2713";
            color: white;
            font-size: 12px;
        }
        .timeline {
            position: relative;
            padding-left: 30px;
        }
        .timeline::before {
            content: "";
            position: absolute;
            left: 10px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: #334155;
        }
        .timeline-item {
            position: relative;
            padding-bottom: 20px;
        }
        .timeline-item::before {
            content: "";
            position: absolute;
            left: -24px;
            top: 4px;
            width: 12px;
            height: 12px;
            background: #00b3a4;
            border-radius: 50%;
        }
        .timeline-item.completed::before {
            background: #34d399;
        }
        .speaker-icon {
            width: 20px;
            height: 20px;
            margin-left: 8px;
            opacity: 0.7;
            cursor: pointer;
        }
        .duration-selector {
            display: flex;
            gap: 8px;
            justify-content: center;
            margin-top: 12px;
        }
        .duration-btn {
            padding: 6px 12px;
            background: #334155;
            border: none;
            border-radius: 4px;
            color: #94a3b8;
            font-size: 0.8rem;
            cursor: pointer;
        }
        .duration-btn.active {
            background: #00b3a4;
            color: white;
        }
        .payout-detail {
            background: #1e293b;
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 12px;
            border-left: 3px solid #00b3a4;
        }
        .fee-breakdown {
            background: #0f172a;
            border-radius: 6px;
            padding: 12px;
            margin-top: 12px;
        }
        .control-bank-box {
            background: #0f172a;
            border: 1px solid #334155;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }
        .comparison-box {
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 12px;
        }
        .comparison-before {
            background: rgba(239, 68, 68, 0.05);
            border: 1px solid rgba(239, 68, 68, 0.3);
        }
        .comparison-after {
            background: rgba(34, 197, 94, 0.05);
            border: 1px solid rgba(34, 197, 94, 0.3);
        }
        .settings-panel {
            background: #1e293b;
            border: 1px solid #334155;
            border-radius: 8px;
            padding: 20px;
        }
        .settings-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #334155;
        }
        .settings-row:last-child {
            border-bottom: none;
        }
        .settings-label {
            color: #94a3b8;
            font-size: 0.9rem;
            font-weight: 500;
        }
        .settings-value {
            background: #0f172a;
            border: 1px solid #334155;
            border-radius: 6px;
            padding: 8px 14px;
            color: #f1f5f9;
            font-size: 0.85rem;
            min-width: 280px;
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <div class="header">
            <h1>GoCardless Import Automation</h1>
            <p>Automated Direct Debit Payment Processing for Pegasus Opera</p>
        </div>

        <div class="progress-bar">
            <div class="progress-fill" id="progress"></div>
        </div>

        <div class="slides-container">
            <!-- Slide 1: Title -->
            <div class="slide active" data-slide="1">
                <div class="slide-content" style="text-align: center; padding: 60px 40px;">
                    <div style="margin-bottom: 30px;">
                        <div style="display: inline-flex; align-items: center; gap: 10px; margin-bottom: 20px;">
                            <div style="width: 40px; height: 40px; background: linear-gradient(135deg, #3b82f6, #8b5cf6); border-radius: 10px; display: flex; align-items: center; justify-content: center; font-weight: 800; font-size: 1.1rem; color: white;">C</div>
                            <span style="font-size: 1.4rem; font-weight: 600; color: white;">Crakd<span style="color: #60a5fa;">.ai</span></span>
                        </div>
                    </div>

                    <div style="margin-bottom: 24px;">
                        <div class="gocardless-logo" style="display: inline-flex;">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="#00b3a4"><circle cx="12" cy="12" r="10"/></svg>
                            <span>Integrates with GoCardless</span>
                        </div>
                    </div>

                    <div style="display: inline-block; background: rgba(0, 179, 164, 0.1); border: 1px solid rgba(0, 179, 164, 0.25); padding: 8px 20px; border-radius: 50px; font-size: 0.85rem; color: #00b3a4; font-weight: 500; margin-bottom: 32px;">
                        Direct Debit Automation for Pegasus Opera
                    </div>

                    <h2 style="font-size: 2.8rem; margin-bottom: 20px; line-height: 1.2;">
                        GoCardless <span style="background: linear-gradient(135deg, #00b3a4, #00d4aa); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Import</span>
                    </h2>

                    <p style="font-size: 1.15rem; max-width: 800px; margin: 0 auto 40px; color: #94a3b8;">
                        Automatically process GoCardless payout notifications, extract payment details, match to customers, and post as sales receipts to Opera with automated control bank accounting
                    </p>

                    <div class="feature-grid-4">
                        <div class="feature-card">
                            <h4>Email Detection</h4>
                            <p>Auto-detect payout emails</p>
                        </div>
                        <div class="feature-card">
                            <h4>Payment Extraction</h4>
                            <p>Parse all payment details</p>
                        </div>
                        <div class="feature-card">
                            <h4>Smart Matching</h4>
                            <p>Match by reference or name</p>
                        </div>
                        <div class="feature-card">
                            <h4>Control Bank</h4>
                            <p>Automated clearing account</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 2: What is GoCardless -->
            <div class="slide" data-slide="2">
                <div class="slide-content">
                    <div class="step-number" style="background: linear-gradient(135deg, #00b3a4, #00d4aa);">?</div>
                    <h2>What is GoCardless?</h2>
                    <p>GoCardless is the UK's leading Direct Debit payment provider. Businesses use it to collect recurring payments from customers automatically. Crakd.ai automates the posting of these payments to Opera.</p>

                    <div class="payment-flow">
                        <div class="flow-box" style="border: 1px solid #334155;">
                            <div style="color: #00b3a4; font-size: 24px; margin-bottom: 8px;">&#128176;</div>
                            <div style="color: #f1f5f9; font-weight: 600; margin-bottom: 4px;">Customer Bank</div>
                            <div style="color: #64748b; font-size: 0.8rem;">Direct Debit collected</div>
                        </div>
                        <div class="flow-arrow">&#8594;</div>
                        <div class="flow-box" style="border: 1px solid #334155;">
                            <div style="color: #00b3a4; font-size: 24px; margin-bottom: 8px;">&#9679;</div>
                            <div style="color: #f1f5f9; font-weight: 600; margin-bottom: 4px;">GoCardless</div>
                            <div style="color: #64748b; font-size: 0.8rem;">Processes &amp; batches</div>
                        </div>
                        <div class="flow-arrow">&#8594;</div>
                        <div class="flow-box" style="border: 1px solid #334155;">
                            <div style="color: #00b3a4; font-size: 24px; margin-bottom: 8px;">&#127974;</div>
                            <div style="color: #f1f5f9; font-weight: 600; margin-bottom: 4px;">Your Bank</div>
                            <div style="color: #64748b; font-size: 0.8rem;">Payout received</div>
                        </div>
                        <div class="flow-arrow">&#8594;</div>
                        <div class="flow-box" style="border: 2px solid #00b3a4;">
                            <div style="color: #00b3a4; font-size: 24px; margin-bottom: 8px;">&#9889;</div>
                            <div style="color: #f1f5f9; font-weight: 600; margin-bottom: 4px;">Crakd.ai</div>
                            <div style="color: #64748b; font-size: 0.8rem;">Posts to Opera</div>
                        </div>
                    </div>

                    <div class="info-box">
                        <h4>The Challenge</h4>
                        <p style="color: #94a3b8; margin: 0;">GoCardless sends payout notification emails with a breakdown of all collected payments. A single payout might contain dozens of individual customer payments, but only one net amount appears on your bank statement. Manually posting each payment as a sales receipt is time-consuming, and reconciling multiple Opera entries against a single bank line is complex.</p>
                    </div>
                </div>
            </div>

            <!-- Slide 3: Email Monitoring (Step 1) -->
            <div class="slide" data-slide="3">
                <div class="slide-content">
                    <div class="step-number" style="background: linear-gradient(135deg, #00b3a4, #00d4aa);">1</div>
                    <h2>Automated Email Monitoring</h2>
                    <p>The system monitors your mailbox for GoCardless payout notifications. Emails from notify@gocardless.com are automatically detected and queued for processing. Previously imported payouts are tracked to prevent duplicates.</p>

                    <div class="mock-ui">
                        <div class="mock-header">
                            <div class="mock-icon" style="background: #00b3a4;">
                                <svg width="16" height="16" fill="white" viewBox="0 0 24 24"><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/></svg>
                            </div>
                            <div class="mock-title">GoCardless Payout Emails</div>
                        </div>

                        <div class="email-card" style="border-left: 3px solid #00b3a4;">
                            <div class="email-header">
                                <div class="email-from">notify@gocardless.com</div>
                                <div class="email-date">12 Feb 2026, 09:15</div>
                            </div>
                            <div class="email-subject">Your payout for 12 Feb 2026 has been sent</div>
                            <div style="display: flex; gap: 8px; margin-top: 8px;">
                                <span class="badge badge-gocardless">Payout: &pound;12,456.78</span>
                                <span class="badge badge-blue">18 payments</span>
                                <span class="badge badge-green">Ready to Import</span>
                            </div>
                        </div>

                        <div class="email-card" style="border-left: 3px solid #64748b; opacity: 0.6;">
                            <div class="email-header">
                                <div class="email-from">notify@gocardless.com</div>
                                <div class="email-date">05 Feb 2026, 09:22</div>
                            </div>
                            <div class="email-subject">Your payout for 05 Feb 2026 has been sent</div>
                            <div style="display: flex; gap: 8px; margin-top: 8px;">
                                <span class="badge badge-gocardless">Payout: &pound;8,934.50</span>
                                <span class="badge badge-blue">12 payments</span>
                                <span class="badge badge-grey">Already Imported</span>
                            </div>
                        </div>
                    </div>

                    <div class="highlight-box">
                        <h4>Smart Detection</h4>
                        <p style="color: #94a3b8; margin: 0;">The system tracks which emails have already been imported, preventing duplicate entries. Email message IDs are stored to ensure each payout is only processed once, even if the email is moved or the inbox is re-scanned.</p>
                    </div>
                </div>
            </div>

            <!-- Slide 4: Payout Extraction (Step 2) -->
            <div class="slide" data-slide="4">
                <div class="slide-content">
                    <div class="step-number" style="background: linear-gradient(135deg, #00b3a4, #00d4aa);">2</div>
                    <h2>Automatic Payout Extraction</h2>
                    <p>The system parses the GoCardless payout email to extract every payment in the batch. Customer references, amounts, fees, and invoice numbers are all captured automatically - no manual data entry required.</p>

                    <div class="mock-ui">
                        <div class="mock-header">
                            <div class="mock-icon" style="background: #00b3a4;">
                                <svg width="16" height="16" fill="white" viewBox="0 0 24 24"><path d="M14 2H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8l-6-6zm-1 7V3.5L18.5 9H13z"/></svg>
                            </div>
                            <div class="mock-title">Payout Details - PO00123456</div>
                        </div>

                        <div class="payout-detail">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <div style="color: #64748b; font-size: 0.8rem;">Reference</div>
                                    <div style="color: #f1f5f9; font-weight: 600;">PO00123456</div>
                                </div>
                                <div>
                                    <div style="color: #64748b; font-size: 0.8rem;">Arriving</div>
                                    <div style="color: #f1f5f9; font-weight: 600;">14 Feb 2026</div>
                                </div>
                                <div>
                                    <div style="color: #64748b; font-size: 0.8rem;">Net Payout</div>
                                    <div style="color: #00b3a4; font-size: 1.5rem; font-weight: 700;">&pound;12,456.78</div>
                                </div>
                            </div>
                        </div>

                        <div class="fee-breakdown">
                            <div style="display: flex; justify-content: space-between; padding: 6px 0;">
                                <span style="color: #94a3b8;">Gross Collections</span>
                                <span style="color: #f1f5f9; font-weight: 600;">&pound;12,528.50</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 6px 0;">
                                <span style="color: #94a3b8;">GoCardless Fees</span>
                                <span class="amount-negative">-&pound;71.72</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 8px 0; border-top: 1px solid #334155; margin-top: 4px;">
                                <span style="color: #94a3b8; font-weight: 600;">Net Payout</span>
                                <span style="color: #00b3a4; font-weight: 600;">&pound;12,456.78</span>
                            </div>
                        </div>

                        <table class="mock-table">
                            <thead>
                                <tr>
                                    <th>Customer Reference</th>
                                    <th>Description</th>
                                    <th>Amount</th>
                                    <th>Fee</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>GC-SMITH-001</td>
                                    <td>INV-2026-0145 Monthly subscription</td>
                                    <td class="amount-positive">&pound;850.00</td>
                                    <td class="amount-negative">-&pound;3.40</td>
                                    <td><span class="badge badge-green">Paid</span></td>
                                </tr>
                                <tr>
                                    <td>GC-HARR-002</td>
                                    <td>INV-2026-0147 Consulting retainer</td>
                                    <td class="amount-positive">&pound;1,200.00</td>
                                    <td class="amount-negative">-&pound;4.80</td>
                                    <td><span class="badge badge-green">Paid</span></td>
                                </tr>
                                <tr>
                                    <td>GC-JONES-003</td>
                                    <td>INV-2026-0149 Annual licence</td>
                                    <td class="amount-positive">&pound;2,400.00</td>
                                    <td class="amount-negative">-&pound;9.60</td>
                                    <td><span class="badge badge-green">Paid</span></td>
                                </tr>
                            </tbody>
                        </table>
                        <div style="text-align: center; padding: 12px; color: #64748b; font-size: 0.85rem;">...15 more payments</div>
                    </div>
                </div>
            </div>

            <!-- Slide 5: Customer Matching (Step 3) -->
            <div class="slide" data-slide="5">
                <div class="slide-content">
                    <div class="step-number" style="background: linear-gradient(135deg, #00b3a4, #00d4aa);">3</div>
                    <h2>Intelligent Customer Matching</h2>
                    <p>Each payment is matched to Opera customer accounts using multiple strategies: invoice reference lookup, GoCardless reference alias matching, and fuzzy name matching. The system learns from your corrections, improving accuracy with every import.</p>

                    <div class="mock-ui">
                        <div class="mock-header">
                            <div class="mock-icon" style="background: #00b3a4;">
                                <svg width="16" height="16" fill="white" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z"/></svg>
                            </div>
                            <div class="mock-title">Customer Match Results</div>
                        </div>

                        <table class="mock-table">
                            <thead>
                                <tr>
                                    <th>GoCardless Reference</th>
                                    <th>Invoice / Description</th>
                                    <th>Matched Customer</th>
                                    <th>Match Method</th>
                                    <th>Confidence</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>GC-SMITH-001</td>
                                    <td>INV-2026-0145</td>
                                    <td style="color: #f1f5f9;">A001 - Smith Engineering Ltd</td>
                                    <td><span class="badge badge-green">Invoice Ref</span></td>
                                    <td><span class="badge badge-green">100%</span></td>
                                </tr>
                                <tr>
                                    <td>GC-HARR-002</td>
                                    <td>INV-2026-0147</td>
                                    <td style="color: #f1f5f9;">A023 - Harrison Consulting</td>
                                    <td><span class="badge badge-green">Invoice Ref</span></td>
                                    <td><span class="badge badge-green">100%</span></td>
                                </tr>
                                <tr>
                                    <td>GC-JONES-003</td>
                                    <td>Annual licence renewal</td>
                                    <td style="color: #f1f5f9;">A045 - Jones &amp; Partners</td>
                                    <td><span class="badge badge-yellow">Name Match</span></td>
                                    <td><span class="badge badge-yellow">92%</span></td>
                                </tr>
                                <tr>
                                    <td>GC-TECH-004</td>
                                    <td>INV-2026-0152</td>
                                    <td style="color: #f1f5f9;">A078 - TechStar Solutions</td>
                                    <td><span class="badge badge-gocardless">GC Reference</span></td>
                                    <td><span class="badge badge-green">100%</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="feature-grid">
                        <div class="feature-card">
                            <h4>Invoice Reference</h4>
                            <p>Extracts invoice numbers and looks up in Opera Sales Ledger</p>
                        </div>
                        <div class="feature-card">
                            <h4>GC Reference Alias</h4>
                            <p>Maps GoCardless customer IDs to Opera account codes</p>
                        </div>
                        <div class="feature-card">
                            <h4>Pattern Learning</h4>
                            <p>Remembers successful matches for future imports</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 6: Review Before Import (Step 4) -->
            <div class="slide" data-slide="6">
                <div class="slide-content">
                    <div class="step-number" style="background: linear-gradient(135deg, #00b3a4, #00d4aa);">4</div>
                    <h2>Review Before Import</h2>
                    <p>Before importing, review all matched payments. Unmatched payments can be manually assigned to customers via searchable dropdowns, or skipped. The complete fee breakdown is shown with VAT details.</p>

                    <div class="mock-ui">
                        <div class="mock-header">
                            <div class="mock-icon" style="background: #00b3a4;">
                                <svg width="16" height="16" fill="white" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                            </div>
                            <div class="mock-title">Import Review</div>
                        </div>

                        <div class="tabs">
                            <div class="tab active">Matched (16)</div>
                            <div class="tab">Unmatched (2)</div>
                            <div class="tab">Fees</div>
                        </div>

                        <table class="mock-table">
                            <thead>
                                <tr>
                                    <th style="width: 40px;"></th>
                                    <th>Customer</th>
                                    <th>Reference</th>
                                    <th>Amount</th>
                                    <th>Allocate To</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><div class="checkbox-mock checked"></div></td>
                                    <td>A001 - Smith Engineering Ltd</td>
                                    <td>INV-2026-0145</td>
                                    <td class="amount-positive">&pound;850.00</td>
                                    <td><span class="badge badge-green">Auto-allocate</span></td>
                                </tr>
                                <tr>
                                    <td><div class="checkbox-mock checked"></div></td>
                                    <td>A023 - Harrison Consulting</td>
                                    <td>INV-2026-0147</td>
                                    <td class="amount-positive">&pound;1,200.00</td>
                                    <td><span class="badge badge-green">Auto-allocate</span></td>
                                </tr>
                                <tr>
                                    <td><div class="checkbox-mock checked"></div></td>
                                    <td>A045 - Jones &amp; Partners</td>
                                    <td>Annual licence</td>
                                    <td class="amount-positive">&pound;2,400.00</td>
                                    <td><span class="badge badge-yellow">On account</span></td>
                                </tr>
                            </tbody>
                        </table>

                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-top: 20px;">
                            <div class="stat-card">
                                <div class="stat-value" style="color: #34d399; font-size: 1.3rem;">&pound;12,528.50</div>
                                <div class="stat-label">Total Receipts</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" style="color: #f87171; font-size: 1.3rem;">-&pound;71.72</div>
                                <div class="stat-label">Fees (VAT Reclaimable)</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" style="color: #00b3a4; font-size: 1.3rem;">&pound;12,456.78</div>
                                <div class="stat-label">Net Payout</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" style="color: #60a5fa; font-size: 1.3rem;">16/18</div>
                                <div class="stat-label">Matched</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 7: Fee Handling (Step 5) -->
            <div class="slide" data-slide="7">
                <div class="slide-content">
                    <div class="step-number" style="background: linear-gradient(135deg, #00b3a4, #00d4aa);">5</div>
                    <h2>Automatic Fee &amp; VAT Posting</h2>
                    <p>GoCardless fees are automatically posted to the correct nominal account. VAT on fees (currently 20%) is extracted and posted to the VAT input account for reclaim. Both zvtran and nvat records are created for accurate VAT returns.</p>

                    <div class="mock-ui">
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 24px;">
                            <div>
                                <h3 style="color: #f1f5f9; font-size: 1rem; margin-bottom: 16px;">Fee Structure</h3>
                                <div style="background: #1e293b; border-radius: 8px; padding: 16px;">
                                    <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #334155;">
                                        <span style="color: #94a3b8;">Gross Fee</span>
                                        <span style="color: #f1f5f9; font-weight: 600;">&pound;71.72</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #334155;">
                                        <span style="color: #94a3b8;">Net Fee (excl VAT)</span>
                                        <span style="color: #f1f5f9; font-weight: 600;">&pound;59.77</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; padding: 8px 0;">
                                        <span style="color: #94a3b8;">VAT @ 20%</span>
                                        <span style="color: #34d399; font-weight: 600;">&pound;11.95</span>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <h3 style="color: #f1f5f9; font-size: 1rem; margin-bottom: 16px;">Opera Postings</h3>
                                <div style="background: #1e293b; border-radius: 8px; padding: 16px;">
                                    <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #334155;">
                                        <span style="color: #94a3b8;">Bank Charges (HH050)</span>
                                        <span style="color: #f1f5f9;">Dr &pound;59.77</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #334155;">
                                        <span style="color: #94a3b8;">VAT Input (CC020)</span>
                                        <span style="color: #f1f5f9;">Dr &pound;11.95</span>
                                    </div>
                                    <div style="display: flex; justify-content: space-between; padding: 8px 0;">
                                        <span style="color: #94a3b8;">Bank Account (BC010)</span>
                                        <span style="color: #f1f5f9;">Cr &pound;71.72</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="info-box">
                        <h4>Complete VAT Tracking</h4>
                        <p style="color: #94a3b8; margin: 0;">GoCardless fees include VAT which can be reclaimed. The system automatically creates zvtran (VAT analysis) and nvat (VAT return tracking) records with nv_vattype='P' (Purchase/Input VAT), ensuring accurate VAT returns. Every penny is accounted for.</p>
                    </div>
                </div>
            </div>

            <!-- Slide 8: GoCardless Control Bank (Step 6) - NEW -->
            <div class="slide" data-slide="8">
                <div class="slide-content">
                    <div class="step-number" style="background: linear-gradient(135deg, #00b3a4, #00d4aa);">6</div>
                    <h2>GoCardless Control Bank - Automated Clearing</h2>
                    <p>The system uses a GoCardless Control Bank as a clearing account to solve the reconciliation challenge. Instead of posting dozens of entries to your main bank, receipts and fees post to the control bank, then a single net transfer moves the payout amount to your actual bank - matching the bank statement line 1:1.</p>

                    <div class="mock-ui">
                        <h3 style="color: #f1f5f9; font-size: 1rem; margin-bottom: 20px;">How It Works</h3>
                        <div style="display: flex; align-items: center; gap: 20px; margin-bottom: 24px;">
                            <div class="control-bank-box" style="flex: 1.3;">
                                <div style="font-weight: 600; color: #00b3a4; margin-bottom: 12px; font-size: 1rem;">GC Control Bank (GC)</div>
                                <div style="padding: 8px 0; border-bottom: 1px solid #334155;">
                                    <span style="color: #94a3b8;">18 Receipts</span>
                                    <span class="amount-positive" style="float: right; font-weight: 600;">+&pound;12,528.50</span>
                                </div>
                                <div style="padding: 8px 0; border-bottom: 1px solid #334155;">
                                    <span style="color: #94a3b8;">1 Fee Entry</span>
                                    <span class="amount-negative" style="float: right; font-weight: 600;">-&pound;71.72</span>
                                </div>
                                <div style="padding: 8px 0; border-bottom: 1px solid #334155;">
                                    <span style="color: #94a3b8;">1 Transfer Out</span>
                                    <span class="amount-amber" style="float: right; font-weight: 600;">-&pound;12,456.78</span>
                                </div>
                                <div style="padding: 10px 0 4px; font-weight: 700; color: #34d399; font-size: 1.1rem;">
                                    Balance: &pound;0.00 &#10003;
                                </div>
                            </div>
                            <div class="flow-arrow" style="font-size: 32px;">&#8594;</div>
                            <div class="control-bank-box" style="flex: 1;">
                                <div style="font-weight: 600; color: #f59e0b; margin-bottom: 12px; font-size: 1rem;">Actual Bank (BC010)</div>
                                <div style="padding: 8px 0; border-bottom: 1px solid #334155;">
                                    <span style="color: #94a3b8;">1 Bank Transfer</span>
                                    <span class="amount-positive" style="float: right; font-weight: 600;">+&pound;12,456.78</span>
                                </div>
                                <div style="padding: 12px 0 4px; color: #34d399; font-size: 0.85rem;">
                                    Matches bank statement exactly
                                </div>
                            </div>
                        </div>

                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">
                            <div class="comparison-box comparison-before">
                                <div style="font-weight: 600; color: #f87171; margin-bottom: 8px;">Before</div>
                                <p style="color: #94a3b8; font-size: 0.85rem; margin: 0;">17 entries on actual bank (16 receipts + 1 fee) - impossible to reconcile against single bank line</p>
                            </div>
                            <div class="comparison-box comparison-after">
                                <div style="font-weight: 600; color: #34d399; margin-bottom: 8px;">After</div>
                                <p style="color: #94a3b8; font-size: 0.85rem; margin: 0;">1 entry on actual bank (net transfer) - matches bank statement 1:1</p>
                            </div>
                        </div>
                    </div>

                    <div class="highlight-box">
                        <h4>Self-Balancing</h4>
                        <p style="color: #94a3b8; margin: 0;">The GC Control bank always nets to zero after each batch. Receipts go in, fees come out, and the net transfer clears the balance. This is proper accounting that mirrors how clearing accounts work in practice. The control bank code is configurable in settings.</p>
                    </div>
                </div>
            </div>

            <!-- Slide 9: Import to Opera (Step 7) -->
            <div class="slide" data-slide="9">
                <div class="slide-content">
                    <div class="step-number" style="background: linear-gradient(135deg, #00b3a4, #00d4aa);">7</div>
                    <h2>Seamless Import to Opera</h2>
                    <p>With one click, all payments are posted as sales receipts to Opera. Fees are posted with VAT tracking, and the automatic bank transfer clears the control bank. Complete double-entry postings across all Opera ledgers.</p>

                    <div class="mock-ui">
                        <div class="success-box">
                            <h4>Successfully Imported GoCardless Payout</h4>
                            <p style="color: #94a3b8; margin: 0;">16 sales receipts, fee posting, and bank transfer created. Control bank balanced to zero.</p>
                        </div>

                        <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin: 20px 0;">
                            <div class="stat-card">
                                <div class="stat-value" style="color: #34d399; font-size: 1.5rem;">16</div>
                                <div class="stat-label">Receipts</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" style="color: #fbbf24; font-size: 1.5rem;">12</div>
                                <div class="stat-label">Auto-Allocated</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" style="color: #60a5fa; font-size: 1.5rem;">1</div>
                                <div class="stat-label">Fee Entry</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" style="color: #00b3a4; font-size: 1.5rem;">1</div>
                                <div class="stat-label">Bank Transfer</div>
                            </div>
                        </div>

                        <h3 style="color: #f1f5f9; font-size: 0.95rem; margin-bottom: 12px;">Opera Entries Created</h3>
                        <table class="mock-table">
                            <thead>
                                <tr>
                                    <th>Type</th>
                                    <th>Reference</th>
                                    <th>Account</th>
                                    <th>Description</th>
                                    <th>Amount</th>
                                    <th>Bank</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td><span class="badge badge-gocardless">Receipt</span></td>
                                    <td>CB002501</td>
                                    <td>A001</td>
                                    <td>Smith Engineering</td>
                                    <td class="amount-positive">&pound;850.00</td>
                                    <td><span class="badge badge-blue">GC Control</span></td>
                                </tr>
                                <tr>
                                    <td><span class="badge badge-gocardless">Receipt</span></td>
                                    <td>CB002502</td>
                                    <td>A023</td>
                                    <td>Harrison Consulting</td>
                                    <td class="amount-positive">&pound;1,200.00</td>
                                    <td><span class="badge badge-blue">GC Control</span></td>
                                </tr>
                                <tr>
                                    <td><span class="badge badge-yellow">Fee</span></td>
                                    <td>CB002517</td>
                                    <td>HH050</td>
                                    <td>Bank Charges</td>
                                    <td class="amount-negative">-&pound;59.77</td>
                                    <td><span class="badge badge-blue">GC Control</span></td>
                                </tr>
                                <tr>
                                    <td><span class="badge badge-gocardless">Transfer</span></td>
                                    <td>BT00045</td>
                                    <td>GC &rarr; BC010</td>
                                    <td>GoCardless Payout</td>
                                    <td style="color: #00b3a4; font-weight: 600;">&pound;12,456.78</td>
                                    <td><span class="badge badge-teal">Both Banks</span></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Slide 10: Reconciliation (Step 8) -->
            <div class="slide" data-slide="10">
                <div class="slide-content">
                    <div class="step-number" style="background: linear-gradient(135deg, #00b3a4, #00d4aa);">8</div>
                    <h2>Effortless Bank Reconciliation</h2>
                    <p>Because all individual entries are posted to the GoCardless Control bank, your actual bank account has just one entry: the net payout transfer. This matches the single line on your bank statement perfectly - making reconciliation instant.</p>

                    <div class="mock-ui">
                        <div style="background: #1e293b; border-radius: 8px; padding: 20px; margin-bottom: 16px; border-left: 3px solid #f59e0b;">
                            <div style="color: #64748b; font-size: 0.8rem; margin-bottom: 4px;">Bank Statement Line</div>
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <span style="color: #94a3b8; margin-right: 16px;">14 Feb 2026</span>
                                    <span style="color: #f1f5f9; font-weight: 600;">GOCARDLESS LTD</span>
                                </div>
                                <div style="color: #34d399; font-size: 1.5rem; font-weight: 700;">&pound;12,456.78</div>
                            </div>
                        </div>

                        <div style="background: #1e293b; border-radius: 8px; padding: 20px; margin-bottom: 16px; border-left: 3px solid #00b3a4;">
                            <div style="color: #64748b; font-size: 0.8rem; margin-bottom: 4px;">Opera Cashbook Entry</div>
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <span style="color: #94a3b8; margin-right: 16px;">Bank Transfer from GC Control</span>
                                </div>
                                <div style="display: flex; align-items: center; gap: 12px;">
                                    <span style="color: #00b3a4; font-size: 1.5rem; font-weight: 700;">&pound;12,456.78</span>
                                    <span class="badge badge-green">Exact Match</span>
                                </div>
                            </div>
                        </div>

                        <div class="success-box">
                            <h4>Perfect 1:1 Match</h4>
                            <p style="color: #94a3b8; margin: 0;">One bank statement line = one Opera cashbook entry. No more trying to match dozens of receipts against a single payout. The control bank handles the complexity behind the scenes.</p>
                        </div>

                        <div class="feature-grid">
                            <div class="feature-card">
                                <h4 style="color: #f87171;">Before Control Bank</h4>
                                <p>Multiple entries vs single bank line - manual reconciliation headache</p>
                            </div>
                            <div class="feature-card">
                                <h4 style="color: #34d399;">After Control Bank</h4>
                                <p>Single transfer = single bank line - instant match</p>
                            </div>
                            <div class="feature-card">
                                <h4>Control Bank Balance</h4>
                                <p>Always nets to &pound;0.00 - self-balancing clearing account</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 11: Complete Workflow -->
            <div class="slide" data-slide="11">
                <div class="slide-content">
                    <h2 style="text-align: center;">Complete GoCardless Workflow</h2>
                    <p style="text-align: center;">End-to-end automation from payout notification to reconciled bank account</p>

                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px; margin-bottom: 16px;">
                        <div class="workflow-step" style="flex-direction: column; text-align: center; padding: 20px 12px;">
                            <div class="workflow-number">1</div>
                            <div class="workflow-content">
                                <h4 style="font-size: 0.9rem;">Email Arrives</h4>
                                <p style="font-size: 0.75rem;">GoCardless payout notification</p>
                            </div>
                        </div>
                        <div class="workflow-step" style="flex-direction: column; text-align: center; padding: 20px 12px;">
                            <div class="workflow-number">2</div>
                            <div class="workflow-content">
                                <h4 style="font-size: 0.9rem;">Auto-Detected</h4>
                                <p style="font-size: 0.75rem;">System identifies payout email</p>
                            </div>
                        </div>
                        <div class="workflow-step" style="flex-direction: column; text-align: center; padding: 20px 12px;">
                            <div class="workflow-number">3</div>
                            <div class="workflow-content">
                                <h4 style="font-size: 0.9rem;">Payments Extracted</h4>
                                <p style="font-size: 0.75rem;">All details parsed from email</p>
                            </div>
                        </div>
                        <div class="workflow-step" style="flex-direction: column; text-align: center; padding: 20px 12px;">
                            <div class="workflow-number">4</div>
                            <div class="workflow-content">
                                <h4 style="font-size: 0.9rem;">Customers Matched</h4>
                                <p style="font-size: 0.75rem;">Multi-strategy matching</p>
                            </div>
                        </div>
                    </div>

                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 12px;">
                        <div class="workflow-step" style="flex-direction: column; text-align: center; padding: 20px 12px;">
                            <div class="workflow-number">5</div>
                            <div class="workflow-content">
                                <h4 style="font-size: 0.9rem;">Review &amp; Approve</h4>
                                <p style="font-size: 0.75rem;">Verify matches and fees</p>
                            </div>
                        </div>
                        <div class="workflow-step" style="flex-direction: column; text-align: center; padding: 20px 12px;">
                            <div class="workflow-number">6</div>
                            <div class="workflow-content">
                                <h4 style="font-size: 0.9rem;">Control Bank Posting</h4>
                                <p style="font-size: 0.75rem;">Receipts + fees to GC bank</p>
                            </div>
                        </div>
                        <div class="workflow-step" style="flex-direction: column; text-align: center; padding: 20px 12px;">
                            <div class="workflow-number">7</div>
                            <div class="workflow-content">
                                <h4 style="font-size: 0.9rem;">Bank Transfer</h4>
                                <p style="font-size: 0.75rem;">Net payout to actual bank</p>
                            </div>
                        </div>
                        <div class="workflow-step" style="flex-direction: column; text-align: center; padding: 20px 12px; border-color: #34d399;">
                            <div class="workflow-number" style="background: linear-gradient(135deg, #16a34a, #34d399);">8</div>
                            <div class="workflow-content">
                                <h4 style="font-size: 0.9rem; color: #34d399;">Reconcile</h4>
                                <p style="font-size: 0.75rem;">1:1 match - instant</p>
                            </div>
                        </div>
                    </div>

                    <div class="info-box" style="margin-top: 24px;">
                        <h4>From Payout Email to Reconciled in Minutes</h4>
                        <p style="color: #94a3b8; margin: 0;">Process entire GoCardless payouts with dozens of payments automatically. The control bank eliminates reconciliation complexity. Pattern learning improves matching accuracy with every import.</p>
                    </div>
                </div>
            </div>

            <!-- Slide 12: Settings & Configuration -->
            <div class="slide" data-slide="12">
                <div class="slide-content">
                    <div class="step-number" style="background: linear-gradient(135deg, #00b3a4, #00d4aa);">&#9881;</div>
                    <h2>Easy Configuration</h2>
                    <p>Configure GoCardless settings through the intuitive settings panel. Set up the control bank, default fee nominal account, VAT code, and bank account mappings.</p>

                    <div class="mock-ui">
                        <div class="mock-header">
                            <div class="mock-icon" style="background: #00b3a4;">
                                <svg width="16" height="16" fill="white" viewBox="0 0 24 24"><path d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.49.49 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96a.49.49 0 0 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.07.62-.07.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"/></svg>
                            </div>
                            <div class="mock-title">GoCardless Settings</div>
                        </div>

                        <div class="settings-panel">
                            <div class="settings-row">
                                <span class="settings-label">GoCardless Control Bank</span>
                                <div class="settings-value">
                                    GC - GoCardless Control
                                    <span style="color: #64748b; font-size: 0.75rem; display: block; margin-top: 2px;">(None - post directly to bank)</span>
                                </div>
                            </div>
                            <div class="settings-row">
                                <span class="settings-label">Destination Bank</span>
                                <div class="settings-value">BC010 - Business Current Account</div>
                            </div>
                            <div class="settings-row">
                                <span class="settings-label">Fee Nominal Account</span>
                                <div class="settings-value">HH050 - Bank Charges</div>
                            </div>
                            <div class="settings-row">
                                <span class="settings-label">VAT Code</span>
                                <div class="settings-value">2 - Standard Rate (20%)</div>
                            </div>
                        </div>

                        <div style="background: #1e293b; border-radius: 6px; padding: 12px; margin-top: 16px; border-left: 3px solid #64748b;">
                            <p style="color: #94a3b8; font-size: 0.85rem; margin: 0;">When a control bank is configured, receipts and fees post to the control bank, with an automatic bank transfer of the net payout amount to the destination bank.</p>
                        </div>
                    </div>

                    <div class="info-box">
                        <h4>Flexible Configuration</h4>
                        <p style="color: #94a3b8; margin: 0;">The control bank is optional. If not configured, the system posts directly to the selected bank account (original behaviour). This makes it easy to start simple and upgrade to control bank accounting when ready.</p>
                    </div>
                </div>
            </div>

            <!-- Slide 13: Summary / Closing -->
            <div class="slide" data-slide="13">
                <div class="slide-content" style="text-align: center; padding: 60px 40px;">
                    <div style="margin-bottom: 30px;">
                        <div style="display: inline-flex; align-items: center; gap: 10px; margin-bottom: 16px;">
                            <div style="width: 40px; height: 40px; background: linear-gradient(135deg, #3b82f6, #8b5cf6); border-radius: 10px; display: flex; align-items: center; justify-content: center; font-weight: 800; font-size: 1.1rem; color: white;">C</div>
                            <span style="font-size: 1.4rem; font-weight: 600; color: white;">Crakd<span style="color: #60a5fa;">.ai</span></span>
                        </div>
                        <div style="margin-top: 12px;">
                            <div class="gocardless-logo" style="display: inline-flex;">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="#00b3a4"><circle cx="12" cy="12" r="10"/></svg>
                                <span>GoCardless</span>
                            </div>
                        </div>
                    </div>

                    <h2 style="font-size: 2.4rem; margin-bottom: 16px;">Automate Your Direct Debit Processing</h2>
                    <p style="font-size: 1.1rem; max-width: 700px; margin: 0 auto 40px; color: #94a3b8;">
                        Stop manually entering GoCardless payments. Let Crakd.ai handle the entire workflow automatically.
                    </p>

                    <div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 40px;">
                        <div class="stat-card">
                            <div class="stat-value" style="color: #34d399;">95%</div>
                            <div class="stat-label">Time Saved</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" style="color: #00b3a4;">100%</div>
                            <div class="stat-label">Fee VAT Tracked</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" style="color: #f59e0b;">Zero</div>
                            <div class="stat-label">Manual Entry</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-value" style="color: #a78bfa;">Perfect</div>
                            <div class="stat-label">Bank Match</div>
                        </div>
                    </div>

                    <div style="display: flex; gap: 16px; justify-content: center;">
                        <button class="btn btn-primary" style="padding: 16px 32px; font-size: 1.1rem;">Schedule a Demo</button>
                        <button class="btn btn-secondary" style="padding: 16px 32px; font-size: 1.1rem;">Learn More</button>
                    </div>

                    <div style="margin-top: 40px; color: #64748b; font-size: 0.9rem;">
                        Works with <strong style="color: #f59e0b;">Pegasus Opera SQL SE</strong> and <strong style="color: #f59e0b;">Opera 3</strong>
                    </div>
                </div>
            </div>
        </div>

        <div class="controls">
            <button class="btn btn-secondary" id="prevBtn" onclick="prevSlide()">Previous</button>
            <button class="btn btn-primary" id="nextBtn" onclick="nextSlide()">Next</button>
            <button class="btn btn-secondary" id="playPauseBtn" onclick="toggleAutoPlay()">Pause</button>
        </div>

        <div class="auto-play-indicator">
            <span id="slideIndicator">Slide 1 of 13</span> &bull; Auto-advancing in <span id="countdown">20</span>s
            <svg class="speaker-icon" id="speakerIcon" onclick="toggleVoice()" viewBox="0 0 24 24" fill="currentColor">
                <path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>
            </svg>
        </div>

        <div class="duration-selector">
            <button class="duration-btn" onclick="setDuration(5)">5s</button>
            <button class="duration-btn" onclick="setDuration(10)">10s</button>
            <button class="duration-btn" onclick="setDuration(15)">15s</button>
            <button class="duration-btn active" onclick="setDuration(20)">20s</button>
            <button class="duration-btn" onclick="setDuration(30)">30s</button>
        </div>
    </div>

    <script>
        let currentSlide = 1;
        const totalSlides = 13;
        let autoPlayInterval;
        let countdownInterval;
        let countdown = 20;
        let slideDuration = 20;
        let isPlaying = true;
        let voiceEnabled = true;

        const slideNarrations = {
            1: {
                title: "GoCardless Import Automation",
                description: "Automated Direct Debit payment processing for Pegasus Opera. From payout email to reconciled bank account, fully automated with control bank accounting."
            },
            2: {
                title: "What is GoCardless?",
                description: "GoCardless is the UK's leading Direct Debit provider. A single payout contains dozens of payments but appears as one line on your bank statement. Crakd.ai automates the posting and solves the reconciliation challenge."
            },
            3: {
                title: "Automated Email Monitoring",
                description: "The system monitors your mailbox for GoCardless payout notifications. Emails from GoCardless are automatically detected, and previously imported payouts are tracked to prevent duplicates."
            },
            4: {
                title: "Automatic Payout Extraction",
                description: "Every payment in the batch is extracted automatically from the payout email. Customer references, amounts, fees, and invoice numbers are all captured with zero manual data entry."
            },
            5: {
                title: "Intelligent Customer Matching",
                description: "Payments are matched to Opera customers using invoice reference lookup, GoCardless reference aliases, and fuzzy name matching. The system learns from corrections to improve accuracy over time."
            },
            6: {
                title: "Review Before Import",
                description: "Review all matched payments before importing. Unmatched payments can be manually assigned via searchable dropdowns. The complete fee breakdown with VAT details is displayed for approval."
            },
            7: {
                title: "Automatic Fee and VAT Posting",
                description: "GoCardless fees are posted to the correct nominal account with VAT automatically extracted for reclaim. Both VAT analysis and VAT return tracking records are created to ensure accurate VAT returns."
            },
            8: {
                title: "GoCardless Control Bank",
                description: "This is a major feature. Instead of posting dozens of entries to your actual bank, receipts and fees post to a GoCardless Control Bank. A single net transfer then moves the payout to your actual bank, matching the bank statement one to one. The control bank always nets to zero."
            },
            9: {
                title: "Seamless Import to Opera",
                description: "With one click, all payments are posted as sales receipts, fees are posted with VAT tracking, and the automatic bank transfer clears the control bank. Complete double-entry postings across all Opera ledgers."
            },
            10: {
                title: "Effortless Bank Reconciliation",
                description: "Your actual bank has just one entry matching the single GoCardless line on your bank statement. No more trying to reconcile dozens of receipts against a single payout. The control bank handles the complexity."
            },
            11: {
                title: "Complete GoCardless Workflow",
                description: "Eight steps from payout email to final reconciliation, all automated. The control bank eliminates reconciliation complexity and pattern learning improves matching accuracy with every import."
            },
            12: {
                title: "Easy Configuration",
                description: "Configure the control bank, destination bank, fee nominal account, and VAT code through the settings panel. The control bank is optional, making it easy to start simple and upgrade when ready."
            },
            13: {
                title: "Automate Your Direct Debit Processing",
                description: "95% time saved, 100% fee VAT tracked, zero manual entry, and perfect bank match. Stop manually entering GoCardless payments. Works with Pegasus Opera SQL SE and Opera 3."
            }
        };

        function showSlide(n) {
            const slides = document.querySelectorAll('.slide');
            slides.forEach(slide => slide.classList.remove('active'));

            if (n > totalSlides) currentSlide = 1;
            if (n < 1) currentSlide = totalSlides;

            slides[currentSlide - 1].classList.add('active');

            const progress = (currentSlide / totalSlides) * 100;
            document.getElementById('progress').style.width = progress + '%';
            document.getElementById('slideIndicator').textContent = `Slide ${currentSlide} of ${totalSlides}`;

            resetCountdown();

            if (voiceEnabled && slideNarrations[currentSlide]) {
                speakSlide(currentSlide);
            }
        }

        function nextSlide() {
            currentSlide++;
            showSlide(currentSlide);
        }

        function prevSlide() {
            currentSlide--;
            showSlide(currentSlide);
        }

        function resetCountdown() {
            countdown = slideDuration;
            document.getElementById('countdown').textContent = countdown;
        }

        function startAutoPlay() {
            autoPlayInterval = setInterval(() => {
                if (isPlaying) {
                    nextSlide();
                }
            }, slideDuration * 1000);

            countdownInterval = setInterval(() => {
                if (isPlaying) {
                    countdown--;
                    document.getElementById('countdown').textContent = countdown;
                    if (countdown <= 0) {
                        resetCountdown();
                    }
                }
            }, 1000);
        }

        function toggleAutoPlay() {
            isPlaying = !isPlaying;
            document.getElementById('playPauseBtn').textContent = isPlaying ? 'Pause' : 'Play';
            if (!isPlaying) {
                window.speechSynthesis.cancel();
            }
        }

        function setDuration(seconds) {
            slideDuration = seconds;
            document.querySelectorAll('.duration-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            resetCountdown();

            clearInterval(autoPlayInterval);
            clearInterval(countdownInterval);
            startAutoPlay();
        }

        function speakSlide(slideNum) {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();

                const narration = slideNarrations[slideNum];
                if (narration) {
                    setTimeout(() => {
                        const titleUtterance = new SpeechSynthesisUtterance(narration.title);
                        titleUtterance.rate = 0.9;
                        titleUtterance.pitch = 1;

                        titleUtterance.onend = () => {
                            if (voiceEnabled) {
                                setTimeout(() => {
                                    if (voiceEnabled) {
                                        const descUtterance = new SpeechSynthesisUtterance(narration.description);
                                        descUtterance.rate = 0.9;
                                        descUtterance.pitch = 1;
                                        window.speechSynthesis.speak(descUtterance);
                                    }
                                }, 800);
                            }
                        };

                        window.speechSynthesis.speak(titleUtterance);
                    }, 500);
                }
            }
        }

        function toggleVoice() {
            voiceEnabled = !voiceEnabled;
            const icon = document.getElementById('speakerIcon');
            icon.style.opacity = voiceEnabled ? '0.7' : '0.3';
            if (!voiceEnabled) {
                icon.innerHTML = '<path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"/>';
            } else {
                icon.innerHTML = '<path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/>';
                if (slideNarrations[currentSlide]) {
                    speakSlide(currentSlide);
                }
            }
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === ' ') {
                nextSlide();
            } else if (e.key === 'ArrowLeft') {
                prevSlide();
            } else if (e.key === 'p') {
                toggleAutoPlay();
            }
        });

        // Initialize
        showSlide(1);
        startAutoPlay();
    </script>
</body>
</html>
